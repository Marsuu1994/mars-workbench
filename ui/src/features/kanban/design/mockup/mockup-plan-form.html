<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Kanban — Plan Form (Create / Edit)</title>
<link rel="stylesheet" href="./styles.css" />
<style>
  .form-scroll { flex: 1; overflow-y: auto; padding: 32px; }
  .form-inner { max-width: 640px; margin: 0 auto; }
  .form-footer {
    display: flex; justify-content: space-between; align-items: center;
    margin-top: 28px; padding-top: 20px; border-top: 1px solid #2a2e3e;
  }
  .form-footer-summary { font-size: 13px; color: #6b7280; }
  .form-footer-summary span { color: #6ee7b7; font-weight: 600; }

  /* Inline type + frequency config on selected template rows */
  .tmpl-config {
    border-top: 1px solid #2a2e3e; margin-top: 10px; padding-top: 10px;
    display: flex; align-items: center; gap: 8px;
  }
  .config-label { font-size: 11px; color: #6b7280; flex-shrink: 0; }
  .type-pills { display: flex; gap: 4px; }
  .type-pill {
    padding: 4px 10px; font-size: 11px; font-weight: 700; letter-spacing: 0.04em;
    border-radius: 999px; border: 1px solid #2a2e3e; cursor: pointer;
    background: transparent; color: #6b7280;
  }
  .type-pill.p-daily  { background: #1e2a4a; border-color: #60a5fa; color: #60a5fa; }
  .type-pill.p-weekly { background: #2a1e4a; border-color: #a78bfa; color: #a78bfa; }
  .config-divider { width: 1px; height: 16px; background: #2a2e3e; margin: 0 2px; flex-shrink: 0; }
  .freq-input {
    width: 48px; padding: 4px 8px; background: #1a1e2e; border: 1px solid #2a2e3e;
    border-radius: 6px; color: #e2e5ed; font-size: 13px; text-align: center; outline: none;
  }
  .freq-unit { font-size: 12px; color: #6b7280; }
</style>
</head>
<body>

<div class="screen-nav">
  <button class="screen-btn active" onclick="show('create')">Create Mode</button>
  <button class="screen-btn" onclick="show('edit')">Edit Mode</button>
</div>

<!-- ══ CREATE MODE ══ -->
<div id="screen-create" class="app">
  <aside class="sidebar">
    <div class="sidebar-header">
      <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M4 6h16M4 12h16M4 18h16" stroke-linecap="round"/></svg>
      <span style="font-weight:600;color:#e2e5ed">Mars Workbench</span>
    </div>
    <div class="sidebar-section">
      <div class="sidebar-item active">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="3" y="3" width="7" height="7" rx="1"/><rect x="14" y="3" width="7" height="7" rx="1"/><rect x="3" y="14" width="7" height="7" rx="1"/><rect x="14" y="14" width="7" height="7" rx="1"/></svg>
        Kanban Planner
      </div>
    </div>
  </aside>
  <div class="main">
    <div class="header">
      <div class="header-left">
        <div class="back-btn"><svg viewBox="0 0 24 24"><polyline points="15 18 9 12 15 6"/></svg></div>
        <span class="header-title"><span>Kanban</span> Planner</span>
        <span class="header-badge" style="background:#2a1e1e;color:#f87171;">Planning Mode</span>
      </div>
    </div>
    <div class="form-scroll">
      <div class="form-inner">
        <h2 style="font-size:24px;font-weight:700;color:#e2e5ed;margin-bottom:4px">Create Weekly Plan</h2>
        <p style="color:#6b7280;margin-bottom:28px">Set up your task templates and start a new week.</p>
        <div class="form-group">
          <label class="form-label">Description (optional)</label>
          <input class="form-input" placeholder="e.g. Focus on interview prep this week" />
        </div>
        <div style="display:flex;align-items:center;justify-content:space-between;margin-bottom:12px;margin-top:20px">
          <label class="form-label" style="margin:0">Task Templates</label>
          <button class="btn btn-ghost" style="padding:6px 12px;font-size:12px">+ New Template</button>
        </div>

        <div class="template-list">

          <!-- Selected: expands with type + freq config -->
          <div class="template-item selected" style="flex-direction:column;align-items:stretch;gap:0">
            <div style="display:flex;align-items:center;gap:12px">
              <div class="template-check"><svg viewBox="0 0 24 24" fill="none" stroke="#151825" stroke-width="3" style="width:12px;height:12px"><path d="M20 6L9 17l-5-5" stroke-linecap="round" stroke-linejoin="round"/></svg></div>
              <div class="template-info">
                <div class="template-name">Solve 3 LeetCode problems</div>
                <div class="template-detail"><svg viewBox="0 0 24 24" fill="#fbbf24" style="width:11px;height:11px;display:inline;vertical-align:-1px"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26"/></svg> 10 pts</div>
              </div>
              <button class="template-edit-btn" title="Edit template (title, description, points)"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="width:14px;height:14px"><path d="M11 4H4a2 2 0 00-2 2v14a2 2 0 002 2h14a2 2 0 002-2v-7" stroke-linecap="round"/><path d="M18.5 2.5a2.121 2.121 0 013 3L12 15l-4 1 1-4 9.5-9.5z" stroke-linecap="round"/></svg></button>
            </div>
            <div class="tmpl-config">
              <span class="config-label">Type</span>
              <div class="type-pills">
                <button class="type-pill p-daily">DAILY</button>
                <button class="type-pill">WEEKLY</button>
              </div>
              <div class="config-divider"></div>
              <span class="config-label">Freq</span>
              <input class="freq-input" value="1" type="number" />
              <span class="freq-unit">/ day</span>
            </div>
          </div>

          <div class="template-item selected" style="flex-direction:column;align-items:stretch;gap:0">
            <div style="display:flex;align-items:center;gap:12px">
              <div class="template-check"><svg viewBox="0 0 24 24" fill="none" stroke="#151825" stroke-width="3" style="width:12px;height:12px"><path d="M20 6L9 17l-5-5" stroke-linecap="round" stroke-linejoin="round"/></svg></div>
              <div class="template-info">
                <div class="template-name">Morning jog 5km</div>
                <div class="template-detail"><svg viewBox="0 0 24 24" fill="#fbbf24" style="width:11px;height:11px;display:inline;vertical-align:-1px"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26"/></svg> 4 pts</div>
              </div>
              <button class="template-edit-btn" title="Edit template (title, description, points)"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="width:14px;height:14px"><path d="M11 4H4a2 2 0 00-2 2v14a2 2 0 002 2h14a2 2 0 002-2v-7" stroke-linecap="round"/><path d="M18.5 2.5a2.121 2.121 0 013 3L12 15l-4 1 1-4 9.5-9.5z" stroke-linecap="round"/></svg></button>
            </div>
            <div class="tmpl-config">
              <span class="config-label">Type</span>
              <div class="type-pills">
                <button class="type-pill p-daily">DAILY</button>
                <button class="type-pill">WEEKLY</button>
              </div>
              <div class="config-divider"></div>
              <span class="config-label">Freq</span>
              <input class="freq-input" value="1" type="number" />
              <span class="freq-unit">/ day</span>
            </div>
          </div>

          <div class="template-item selected" style="flex-direction:column;align-items:stretch;gap:0">
            <div style="display:flex;align-items:center;gap:12px">
              <div class="template-check"><svg viewBox="0 0 24 24" fill="none" stroke="#151825" stroke-width="3" style="width:12px;height:12px"><path d="M20 6L9 17l-5-5" stroke-linecap="round" stroke-linejoin="round"/></svg></div>
              <div class="template-info">
                <div class="template-name">Read 30 pages</div>
                <div class="template-detail"><svg viewBox="0 0 24 24" fill="#fbbf24" style="width:11px;height:11px;display:inline;vertical-align:-1px"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26"/></svg> 5 pts</div>
              </div>
              <button class="template-edit-btn" title="Edit template (title, description, points)"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="width:14px;height:14px"><path d="M11 4H4a2 2 0 00-2 2v14a2 2 0 002 2h14a2 2 0 002-2v-7" stroke-linecap="round"/><path d="M18.5 2.5a2.121 2.121 0 013 3L12 15l-4 1 1-4 9.5-9.5z" stroke-linecap="round"/></svg></button>
            </div>
            <div class="tmpl-config">
              <span class="config-label">Type</span>
              <div class="type-pills">
                <button class="type-pill p-daily">DAILY</button>
                <button class="type-pill">WEEKLY</button>
              </div>
              <div class="config-divider"></div>
              <span class="config-label">Freq</span>
              <input class="freq-input" value="1" type="number" />
              <span class="freq-unit">/ day</span>
            </div>
          </div>

          <div class="template-item selected" style="flex-direction:column;align-items:stretch;gap:0">
            <div style="display:flex;align-items:center;gap:12px">
              <div class="template-check"><svg viewBox="0 0 24 24" fill="none" stroke="#151825" stroke-width="3" style="width:12px;height:12px"><path d="M20 6L9 17l-5-5" stroke-linecap="round" stroke-linejoin="round"/></svg></div>
              <div class="template-info">
                <div class="template-name">Go to gym</div>
                <div class="template-detail"><svg viewBox="0 0 24 24" fill="#fbbf24" style="width:11px;height:11px;display:inline;vertical-align:-1px"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26"/></svg> 6 pts</div>
              </div>
              <button class="template-edit-btn" title="Edit template (title, description, points)"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="width:14px;height:14px"><path d="M11 4H4a2 2 0 00-2 2v14a2 2 0 002 2h14a2 2 0 002-2v-7" stroke-linecap="round"/><path d="M18.5 2.5a2.121 2.121 0 013 3L12 15l-4 1 1-4 9.5-9.5z" stroke-linecap="round"/></svg></button>
            </div>
            <div class="tmpl-config">
              <span class="config-label">Type</span>
              <div class="type-pills">
                <button class="type-pill">DAILY</button>
                <button class="type-pill p-weekly">WEEKLY</button>
              </div>
              <div class="config-divider"></div>
              <span class="config-label">Freq</span>
              <input class="freq-input" value="3" type="number" />
              <span class="freq-unit">/ week</span>
            </div>
          </div>

          <!-- Unselected: no config row -->
          <div class="template-item">
            <div class="template-check"></div>
            <div class="template-info">
              <div class="template-name">Write blog post</div>
              <div class="template-detail"><svg viewBox="0 0 24 24" fill="#fbbf24" style="width:11px;height:11px;display:inline;vertical-align:-1px"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26"/></svg> 12 pts</div>
            </div>
            <button class="template-edit-btn" title="Edit template (title, description, points)"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="width:14px;height:14px"><path d="M11 4H4a2 2 0 00-2 2v14a2 2 0 002 2h14a2 2 0 002-2v-7" stroke-linecap="round"/><path d="M18.5 2.5a2.121 2.121 0 013 3L12 15l-4 1 1-4 9.5-9.5z" stroke-linecap="round"/></svg></button>
          </div>

        </div>

        <div class="form-footer">
          <div class="form-footer-summary">4 selected</div>
          <div style="display:flex;gap:10px">
            <button class="btn btn-ghost">Cancel</button>
            <button class="btn btn-primary">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M5 13l4 4L19 7" stroke-linecap="round"/></svg>
              Start Week
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- ══ EDIT MODE ══ -->
<div id="screen-edit" class="app" style="display:none">
  <aside class="sidebar">
    <div class="sidebar-header">
      <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M4 6h16M4 12h16M4 18h16" stroke-linecap="round"/></svg>
      <span style="font-weight:600;color:#e2e5ed">Mars Workbench</span>
    </div>
    <div class="sidebar-section">
      <div class="sidebar-item active">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="3" y="3" width="7" height="7" rx="1"/><rect x="14" y="3" width="7" height="7" rx="1"/><rect x="3" y="14" width="7" height="7" rx="1"/><rect x="14" y="14" width="7" height="7" rx="1"/></svg>
        Kanban Planner
      </div>
    </div>
  </aside>
  <div class="main">
    <div class="header">
      <div class="header-left">
        <div class="back-btn"><svg viewBox="0 0 24 24"><polyline points="15 18 9 12 15 6"/></svg></div>
        <span class="header-title"><span>Kanban</span> Planner</span>
        <span class="header-badge" style="background:#2a1e1e;color:#f87171;">Planning Mode</span>
      </div>
    </div>
    <div class="form-scroll">
      <div class="form-inner">
        <h2 style="font-size:24px;font-weight:700;color:#e2e5ed;margin-bottom:28px">Update Weekly Plan</h2>
        <div class="form-group">
          <label class="form-label">Description (optional)</label>
          <input class="form-input" value="Interview prep + system design" />
        </div>
        <div style="display:flex;align-items:center;justify-content:space-between;margin-bottom:12px;margin-top:20px">
          <label class="form-label" style="margin:0">Task Templates</label>
          <button class="btn btn-ghost" style="padding:6px 12px;font-size:12px">+ New Template</button>
        </div>

        <div class="template-list">

          <!-- Selected: preloaded with existing PlanTemplate config -->
          <div class="template-item selected" style="flex-direction:column;align-items:stretch;gap:0">
            <div style="display:flex;align-items:center;gap:12px">
              <div class="template-check"><svg viewBox="0 0 24 24" fill="none" stroke="#151825" stroke-width="3" style="width:12px;height:12px"><path d="M20 6L9 17l-5-5" stroke-linecap="round" stroke-linejoin="round"/></svg></div>
              <div class="template-info">
                <div class="template-name">Solve 3 LeetCode problems</div>
                <div class="template-detail"><svg viewBox="0 0 24 24" fill="#fbbf24" style="width:11px;height:11px;display:inline;vertical-align:-1px"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26"/></svg> 10 pts</div>
              </div>
              <button class="template-edit-btn" title="Edit template (title, description, points)"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="width:14px;height:14px"><path d="M11 4H4a2 2 0 00-2 2v14a2 2 0 002 2h14a2 2 0 002-2v-7" stroke-linecap="round"/><path d="M18.5 2.5a2.121 2.121 0 013 3L12 15l-4 1 1-4 9.5-9.5z" stroke-linecap="round"/></svg></button>
            </div>
            <div class="tmpl-config">
              <span class="config-label">Type</span>
              <div class="type-pills">
                <button class="type-pill p-daily">DAILY</button>
                <button class="type-pill">WEEKLY</button>
              </div>
              <div class="config-divider"></div>
              <span class="config-label">Freq</span>
              <input class="freq-input" value="1" type="number" />
              <span class="freq-unit">/ day</span>
            </div>
          </div>

          <div class="template-item selected" style="flex-direction:column;align-items:stretch;gap:0">
            <div style="display:flex;align-items:center;gap:12px">
              <div class="template-check"><svg viewBox="0 0 24 24" fill="none" stroke="#151825" stroke-width="3" style="width:12px;height:12px"><path d="M20 6L9 17l-5-5" stroke-linecap="round" stroke-linejoin="round"/></svg></div>
              <div class="template-info">
                <div class="template-name">Go to gym</div>
                <div class="template-detail"><svg viewBox="0 0 24 24" fill="#fbbf24" style="width:11px;height:11px;display:inline;vertical-align:-1px"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26"/></svg> 6 pts</div>
              </div>
              <button class="template-edit-btn" title="Edit template (title, description, points)"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="width:14px;height:14px"><path d="M11 4H4a2 2 0 00-2 2v14a2 2 0 002 2h14a2 2 0 002-2v-7" stroke-linecap="round"/><path d="M18.5 2.5a2.121 2.121 0 013 3L12 15l-4 1 1-4 9.5-9.5z" stroke-linecap="round"/></svg></button>
            </div>
            <div class="tmpl-config">
              <span class="config-label">Type</span>
              <div class="type-pills">
                <button class="type-pill">DAILY</button>
                <button class="type-pill p-weekly">WEEKLY</button>
              </div>
              <div class="config-divider"></div>
              <span class="config-label">Freq</span>
              <input class="freq-input" value="3" type="number" />
              <span class="freq-unit">/ week</span>
            </div>
          </div>

          <!-- Unselected -->
          <div class="template-item">
            <div class="template-check"></div>
            <div class="template-info">
              <div class="template-name">Morning jog 5km</div>
              <div class="template-detail"><svg viewBox="0 0 24 24" fill="#fbbf24" style="width:11px;height:11px;display:inline;vertical-align:-1px"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26"/></svg> 4 pts</div>
            </div>
            <button class="template-edit-btn" title="Edit template (title, description, points)"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="width:14px;height:14px"><path d="M11 4H4a2 2 0 00-2 2v14a2 2 0 002 2h14a2 2 0 002-2v-7" stroke-linecap="round"/><path d="M18.5 2.5a2.121 2.121 0 013 3L12 15l-4 1 1-4 9.5-9.5z" stroke-linecap="round"/></svg></button>
          </div>

          <div class="template-item">
            <div class="template-check"></div>
            <div class="template-info">
              <div class="template-name">Write blog post</div>
              <div class="template-detail"><svg viewBox="0 0 24 24" fill="#fbbf24" style="width:11px;height:11px;display:inline;vertical-align:-1px"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26"/></svg> 12 pts</div>
            </div>
            <button class="template-edit-btn" title="Edit template (title, description, points)"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="width:14px;height:14px"><path d="M11 4H4a2 2 0 00-2 2v14a2 2 0 002 2h14a2 2 0 002-2v-7" stroke-linecap="round"/><path d="M18.5 2.5a2.121 2.121 0 013 3L12 15l-4 1 1-4 9.5-9.5z" stroke-linecap="round"/></svg></button>
          </div>

        </div>

        <div class="form-footer">
          <div class="form-footer-summary">2 selected</div>
          <div style="display:flex;gap:10px">
            <button class="btn btn-ghost">Cancel</button>
            <button class="btn btn-primary">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M5 13l4 4L19 7" stroke-linecap="round"/></svg>
              Update Plan
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<script>
function show(name) {
  document.querySelectorAll('.app').forEach(el => el.style.display = 'none');
  document.getElementById('screen-' + name).style.display = 'flex';
  document.querySelectorAll('.screen-btn').forEach(btn => {
    btn.classList.toggle('active', btn.textContent.toLowerCase().includes(name));
  });
}
</script>
</body>
</html>
